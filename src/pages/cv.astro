---
import BaseLayout from '../layouts/BaseLayout.astro';
import ContactCTA from '../components/ContactCTA.astro';
import Hero from '../components/Hero.astro';
---

<BaseLayout title="CV | Nathan M'boueya" description="Curriculum Vitae de Nathan M'boueya">
    <div class="stack gap-20">
        <main class="wrapper about">

            <Hero
                    title="Mon Curriculum Vitae"
                    tagline="Parcours acad√©mique, exp√©riences professionnelles et comp√©tences techniques."
            >
                <div class="cv-container">
                    <object
                            data="/assets/2nd_stage.pdf"
                            type="application/pdf"
                            class="cv-preview"
                    >
                        <p>Aper√ßu non disponible. Veuillez utiliser le lien de t√©l√©chargement ci-dessous.</p>
                    </object>

                    <a
                            href="/assets/2nd_stage.pdf"
                            download="Nathan_Mboueya_Rapport_Stage.pdf"
                            class="download-link"
                    >
                        T√©l√©charger le Rapport de Stage (PDF)
                    </a>
                </div>
            </Hero>

            <section>
                <h2 class="section-title">Formation & Dipl√¥mes</h2>
                <div class="content">
                    <p>
                        **BTS SIO (Services Informatiques aux Organisations)** | [ENC BESSIERES] | [2025-2026]
                        <br>
                        Option **SLAM** (Solutions Logicielles et Applications M√©tiers).
                    </p>
                    <p>
                        **BUT Informatique (1√®re Ann√©e)** | [UPHF] | [2022-2023]
                    </p>
                    <p>
                        **Baccalaur√©at G√©n√©ral** | [2021-2022]
                    </p>
                </div>
            </section>

            <section>
                <h2 class="section-title">Comp√©tences Techniques</h2>
                <div class="content">
                    <p>
                        **Langages :** HTML, CSS, JavaScript, SQL, Python, PHP, Java.
                        <br>
                        **Frameworks/Librairies :** Express, Handlebars, [React/Vue/Symfony].
                        <br>
                        **Outils & M√©thodes :** Git/GitHub, VS Code, Figma, Webflow, Trello, Architecture MVC.
                    </p>
                </div>
            </section>


            <section class="experience-section">
                <h2 class="section-title">Exp√©rience Professionnelle</h2>
                <div class="content">
                    <article class="stage-card">
                        <h3 class="stage-title">D√©veloppeur Web Front-End (Stage BTS SIO 1√®re ann√©e)</h3>
                        <p class="stage-meta">
                            **Milo Agency (M-DESIGN)**, Agence Web | Asni√®res-sur-Seine
                            <span class="stage-period">| Du 5 mai au 27 juin 2025 (7 semaines)</span>
                        </p>

                        <div class="tab-slider-container">
                            <div class="tab-navigation" role="tablist">
                                <button class="tab-button active" data-tab="tab-contexte" role="tab" aria-selected="true">Contexte üè¢</button>
                                <button class="tab-button" data-tab="tab-realisation" role="tab" aria-selected="false">R√©alisation üöÄ</button>
                                <button class="tab-button" data-tab="tab-skills" role="tab" aria-selected="false">Comp√©tences üõ†Ô∏è</button>
                            </div>

                            <div class="tab-content-wrapper">

                                <div id="tab-contexte" class="tab-pane active" role="tabpanel">
                                    <h4 class="pane-title">Contexte & Enjeux</h4>
                                    <p>
                                        Immersion en environnement professionnel **Agile**. L'objectif principal √©tait de **d√©velopper l'autonomie** et de mettre en pratique les comp√©tences Full-Stack du BTS SIO SLAM avec un focus sur le d√©veloppement Front-End client en agence.
                                    </p>
                                </div>

                                <div id="tab-realisation" class="tab-pane" role="tabpanel" hidden>
                                    <h4 class="pane-title">R√©alisation Majeure : Site Vitrine pour Coach Sportif</h4>
                                    <p>
                                        J'ai g√©r√© l'ensemble du cycle de vie du Front-End pour un client externe (coach sportif), assurant un produit final optimis√© pour l'engagement et la conversion.
                                    </p>
                                    <ul class="realisation-list">
                                        <li>**Conception UX/UI :** Cr√©ation des **maquettes professionnelles** sur **Figma**, garantissant un design adapt√© √† tous les appareils (**Responsive Design**).</li>
                                        <li>**Int√©gration Avanc√©e :** Utilisation experte du CMS **Webflow** pour l'int√©gration, coupl√©e √† l'injection de **CSS et JavaScript sur-mesure** pour des fonctionnalit√©s avanc√©es (ex: **slider dynamique** de t√©moignages, animations).</li>
                                        <li>**Conformit√© :** Int√©gration des dispositifs de **Conformit√© RGPD** obligatoires (bandeau cookies, mentions l√©gales) pour la mise en ligne.</li>
                                    </ul>
                                </div>

                                <div id="tab-skills" class="tab-pane" role="tabpanel" hidden>
                                    <h4 class="pane-title">Comp√©tences Techniques D√©velopp√©es</h4>
                                    <p>Ce stage a permis de consolider ma ma√Ætrise de l'int√©gration web (HTML/CSS/JS) et de d√©couvrir l'utilisation professionnelle des outils de design et de gestion de projet :</p>
                                    <ul class="realisation-list">
                                        <li>**Design & Prototypage :** Figma</li>
                                        <li>**Int√©gration & CMS :** Webflow, HTML, CSS, JavaScript (Code personnalis√©)</li>
                                        <li>**M√©thodologie :** Organisation du travail et suivi de projet via **Trello** (Agile).</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div class="rapport-cta">
                            <a
                                    href="/assets/rapport_stage.pdf"
                                    download="Nathan_Mboueya_Rapport_Stage.pdf"
                                    class="download-link secondary-link"
                            >
                                T√©l√©charger le Rapport de Stage Complet (PDF)
                            </a>
                        </div>
                    </article>
                </div>
            </section>
        </main>

        <ContactCTA />
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tabs = document.querySelectorAll('.tab-button');
            const panes = document.querySelectorAll('.tab-pane');

            const activateTab = (targetId, targetButton) => {
                // D√©sactiver tous les onglets
                tabs.forEach(t => {
                    t.classList.remove('active');
                    t.setAttribute('aria-selected', 'false');
                });

                // Masquer tous les contenus
                panes.forEach(pane => {
                    pane.classList.remove('active');
                    pane.setAttribute('hidden', true);
                });

                // Activer le bouton cliqu√©
                targetButton.classList.add('active');
                targetButton.setAttribute('aria-selected', 'true');

                // Afficher le contenu cibl√©
                const targetPane = document.getElementById(targetId);
                if (targetPane) {
                    targetPane.classList.add('active');
                    targetPane.removeAttribute('hidden');
                }
            };

            tabs.forEach(tab => {
                tab.addEventListener('click', (e) => {
                    const targetId = e.target.dataset.tab;
                    activateTab(targetId, e.target);
                });
            });

            // S'assurer que le premier onglet est bien affich√© au chargement (s√©curit√©)
            const initialTab = document.querySelector('.tab-button.active');
            if (initialTab) {
                activateTab(initialTab.dataset.tab, initialTab);
            }
        });
    </script>
</BaseLayout>

<style>
    /* -------------------------------------------------------------------------- */
    /* STYLES G√âN√âRAUX ET CV PREVIEW (CONSERV√âS) */
    /* -------------------------------------------------------------------------- */
    .cv-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1.5rem;
        margin-top: 1.5rem;
    }

    .cv-preview {
        width: 100%;
        aspect-ratio: 1 / 1.414;
        border-radius: 0.75rem;
        box-shadow: var(--shadow-xl);
        border: 1px solid var(--gray-800);
    }

    .download-link {
        display: inline-block;
        padding: 0.75rem 1.5rem;
        background-color: var(--accent-regular);
        color: var(--gray-999);
        text-decoration: none;
        border-radius: 999rem;
        font-weight: 600;
        transition: background-color var(--theme-transition), transform 0.2s;
    }

    .download-link:hover {
        background-color: var(--accent-dark);
        transform: translateY(-2px);
    }

    .secondary-link {
        padding: 0.5rem 1rem;
        background-color: var(--gray-800);
        color: var(--accent-regular);
        border: 1px solid var(--accent-regular);
        font-weight: 500;
        border-radius: 0.5rem;
    }
    .secondary-link:hover {
        background-color: var(--gray-700);
        color: var(--accent-light);
    }

    /* -------------------------------------------------------------------------- */
    /* STYLES DE LA MISE EN PAGE PRINCIPALE (GRILLE ET SECTIONS) (CONSERV√âS) */
    /* -------------------------------------------------------------------------- */
    .about {
        display: flex;
        flex-direction: column;
        gap: 3.5rem;
    }

    section {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        color: var(--gray-200);
    }

    .section-title {
        grid-column-start: 1;
        font-size: var(--text-xl);
        color: var(--gray-0);
    }

    .content {
        grid-column: 2 / 4;
    }

    /* Styles pour listes (√† conserver pour les sections CV classiques) */
    .content ul {
        list-style-type: disc;
        padding-left: 1.5rem;
        margin-top: 0.5rem;
    }

    .content li {
        margin-bottom: 0.5rem;
    }

    .content p {
        margin-bottom: 1rem;
    }

    .content h3 {
        color: var(--gray-0);
        font-size: var(--text-lg);
        margin-bottom: 0.25rem;
    }

    /* ------------------------------------------------------------- */
    /* STYLES DE LA CARTE STAGE (ADAPT√âS POUR LE SLIDER) */
    /* ------------------------------------------------------------- */

    .stage-card {
        padding: 1.5rem; /* R√©duit le padding pour compenser l'espace des onglets */
        border: 1px solid var(--gray-800);
        border-radius: 1rem;
        background-color: var(--gray-900);
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2);
    }

    .stage-title {
        color: var(--accent-light);
        font-size: var(--text-xl);
        margin-bottom: 0.5rem;
    }

    .stage-meta {
        font-size: var(--text-sm);
        color: var(--gray-400);
        margin-bottom: 1.5rem;
        display: block;
    }

    .stage-period {
        font-weight: 600;
        color: var(--gray-300);
    }

    /* --- STYLES DES ONGLETS --- */
    .tab-navigation {
        display: flex;
        justify-content: space-around;
        padding: 0;
        margin-bottom: 1.5rem;
        border-bottom: 1px solid var(--gray-700);
    }

    .tab-button {
        flex-grow: 1;
        background: none;
        border: none;
        padding: 1rem 0.5rem;
        cursor: pointer;
        font-size: var(--text-base);
        font-weight: 600;
        color: var(--gray-400);
        transition: color 0.3s, border-bottom 0.3s;
        white-space: nowrap;
        text-align: center;
    }

    .tab-button:hover:not(.active) {
        color: var(--gray-200);
    }

    .tab-button.active {
        color: var(--accent-regular);
        border-bottom: 3px solid var(--accent-regular);
    }

    .tab-content-wrapper {
        min-height: 200px; /* Assure que la hauteur ne saute pas trop entre les onglets */
    }

    .pane-title {
        /* Titre interne de chaque onglet */
        color: var(--gray-0);
        font-size: var(--text-lg);
        margin-bottom: 1rem;
        display: none; /* Masqu√© pour ne pas faire doublon avec le bouton d'onglet */
    }

    .realisation-list {
        margin-top: 1rem;
        list-style-type: none;
        padding-left: 0;
    }

    .realisation-list li {
        background-color: var(--gray-800);
        padding: 0.75rem 1rem;
        margin-bottom: 0.5rem;
        border-radius: 0.5rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        color: var(--gray-100);
        box-shadow: var(--shadow-sm);
    }

    .realisation-list li::before {
        content: "‚úÖ";
        font-size: var(--text-base);
    }

    .rapport-cta {
        margin-top: 2rem;
        text-align: center;
    }

    /* Cache les anciens titres qui sont maintenant int√©gr√©s aux onglets */
    .context-title, .realisation-title, .skills-title {
        display: none;
    }

    /* ------------------------------------------------------------- */
    /* FIN DES NOUVEAUX STYLES */
    /* ------------------------------------------------------------- */

    @media (min-width: 50em) {
        .about {
            display: grid;
            grid-template-columns: 1fr 60% 1fr;
        }

        .about > :global(:first-child) {
            grid-column-start: 2;
        }

        section {
            display: contents;
            font-size: var(--text-lg);
        }
    }
</style>